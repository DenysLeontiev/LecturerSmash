<div class="selection-container">
  <div class="selection-form">
    <h1>Оберіть Інститут та Кафедру</h1>

    @if (error()) {
    <div class="error-message">
      {{ error() }}
    </div>
    }

    <div class="form-group">
      <label for="institute">Інститут:</label>
      <select id="institute" [value]="selectedInstituteId()" (change)="onInstituteChange($event)"
        [disabled]="isLoading()" class="form-select">
        <option value="">Оберіть Інститут...</option>
        @for (institute of institutes(); track institute.id) {
        <option [value]="institute.id">{{ institute.name }}</option>
        }
      </select>
    </div>

    <div class="form-group">
      <label for="department">Кафедра:</label>
      <select id="department" [value]="selectedDepartmentId()" (change)="onDepartmentChange($event)"
        [disabled]="isLoading() || !selectedInstituteId()" class="form-select">
        <option value="">Оберіть Кафедру...</option>
        @for (department of departments(); track department.id) {
        <option [value]="department.id">{{ department.longName }}</option>
        }
      </select>
    </div>

    <button class="start-btn" (click)="startComparison()" [disabled]="!canStartComparison()">
      @if (isLoading()) {
      <span class="spinner"></span>
      Завантаження...
      } @else {
      Почати порівнювати
      }
    </button>
  </div>
</div>