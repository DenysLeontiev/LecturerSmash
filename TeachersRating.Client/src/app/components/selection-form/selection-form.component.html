<div class="selection-container">
  <div class="selection-form">
    <a routerLink="/top-workers" class="top-workers-link">
      <button type="button" class="top-workers-btn">
        <span class="icon">üèÜ</span>
        –¢–æ–ø –í–∏–∫–ª–∞–¥–∞—á—ñ–≤
      </button>
    </a>
    
    <h1>–û–±–µ—Ä—ñ—Ç—å –Ü–Ω—Å—Ç–∏—Ç—É—Ç —Ç–∞ –ö–∞—Ñ–µ–¥—Ä—É</h1>

    @if (error()) {
    <div class="error-message">
      {{ error() }}
    </div>
    }

    <div class="form-group">
      <label for="institute">–Ü–Ω—Å—Ç–∏—Ç—É—Ç:</label>
      <select id="institute" [value]="selectedInstituteId()" (change)="onInstituteChange($event)"
        [disabled]="isLoading()" class="form-select">
        <option value="">–û–±–µ—Ä—ñ—Ç—å –Ü–Ω—Å—Ç–∏—Ç—É—Ç...</option>
        @for (institute of institutes(); track institute.id) {
        <option [value]="institute.id">{{ institute.name | instituteRename }}</option>
        }
      </select>
    </div>

    <div class="form-group">
      <label for="department">–ö–∞—Ñ–µ–¥—Ä–∞:</label>
      <select id="department" [value]="selectedDepartmentId()" (change)="onDepartmentChange($event)"
        [disabled]="isLoading() || !selectedInstituteId()" class="form-select">
        <option value="">–û–±–µ—Ä—ñ—Ç—å –ö–∞—Ñ–µ–¥—Ä—É...</option>
        @for (department of departments(); track department.id) {
        <option [value]="department.id">{{ department.longName }}</option>
        }
      </select>
    </div>

    <button class="start-btn" (click)="startComparison()" [disabled]="!canStartComparison()">
      @if (isLoading()) {
      <span class="spinner"></span>
      –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...
      } @else {
      –ü–æ—á–∞—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏
      }
    </button>
  </div>
</div>